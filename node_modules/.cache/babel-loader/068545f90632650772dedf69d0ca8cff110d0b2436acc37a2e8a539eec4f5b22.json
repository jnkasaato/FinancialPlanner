{"ast":null,"code":"var _jsxFileName = \"/Users/jordanakasaato/Documents/Projects/finances/src/components/Overview.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Chart, CategoryScale, LinearScale, BarController, BarElement, Tooltip } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(CategoryScale, LinearScale, BarController, BarElement, Tooltip);\nfunction Overview({\n  sampleTransactions,\n  transactions\n}) {\n  _s();\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  const [timePeriod, setTimePeriod] = useState('yeartodate');\n  useEffect(() => {\n    if (chartRef.current) {\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n      }\n      const ctx = chartRef.current.getContext('2d');\n\n      // Calculate the start date for the last 12 months\n      const today = new Date();\n      const startDate = new Date(today.getFullYear() - 1, today.getMonth());\n\n      // Generate the labels for the last 12 months\n      const labels = [];\n      for (let i = 0; i < 12; i++) {\n        const date = new Date(startDate.getFullYear(), startDate.getMonth() + i);\n        labels.push(date.toLocaleString('default', {\n          month: 'short'\n        }));\n      }\n\n      // Filter transactions for the last 12 months\n      const filteredTransactions = transactions.filter(transaction => new Date(transaction.date) >= startDate);\n\n      // Group transactions by month and calculate total income and expenses for each month\n      const groupedData = Array.from({\n        length: 12\n      }, (_, i) => {\n        const month = (startDate.getMonth() + i) % 12;\n        return {\n          Income: filteredTransactions.filter(transaction => new Date(transaction.date).getMonth() === month && transaction.type === 'Income').reduce((acc, transaction) => acc + transaction.amount, 0),\n          expenses: filteredTransactions.filter(transaction => new Date(transaction.date).getMonth() === month && transaction.type === 'expense').reduce((acc, transaction) => acc + transaction.amount, 0)\n        };\n      });\n      const IncomeData = Array.from({\n        length: 12\n      }, (_, index) => {\n        var _groupedData$index;\n        return ((_groupedData$index = groupedData[index]) === null || _groupedData$index === void 0 ? void 0 : _groupedData$index.Income) || 0;\n      });\n      const expenseData = Array.from({\n        length: 12\n      }, (_, index) => {\n        var _groupedData$index2;\n        return ((_groupedData$index2 = groupedData[index]) === null || _groupedData$index2 === void 0 ? void 0 : _groupedData$index2.expenses) || 0;\n      });\n      chartInstanceRef.current = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: 'Income',\n            data: IncomeData,\n            backgroundColor: '#4bbad8',\n            barThickness: 20\n          }, {\n            label: 'Expenses',\n            data: expenseData,\n            backgroundColor: '#e6813d',\n            barThickness: 20\n          }]\n        },\n        options: {\n          y: {\n            grid: {\n              display: false\n            },\n            ticks: {\n              ticks: {\n                color: '#00ff00',\n                beginAtZero: true\n              },\n              font: {\n                family: 'Quicksand',\n                size: 16,\n                weight: 'bold'\n              }\n            }\n          },\n          x: {\n            grid: {\n              display: false\n            }\n          },\n          scales: {\n            y: {\n              beginAtZero: true,\n              grid: {\n                display: false\n              }\n            }\n          },\n          plugins: {\n            legend: {\n              display: true\n            }\n          },\n          // Set font properties for the scale label (months)\n          scales: {\n            x: {\n              grid: {\n                display: false\n              },\n              ticks: {\n                font: {\n                  family: 'Quicksand',\n                  size: 16,\n                  weight: 'bold'\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n  }, [timePeriod, transactions]); // Add timePeriod and transactions as dependencies\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overview\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"split-header header \",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview__chart-controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overview__chart-container\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: chartRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n_s(Overview, \"v7QVkm71A88QOYjdbR48bG8XaMg=\");\n_c = Overview;\nexport default Overview;\nvar _c;\n$RefreshReg$(_c, \"Overview\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Chart","CategoryScale","LinearScale","BarController","BarElement","Tooltip","jsxDEV","_jsxDEV","register","Overview","sampleTransactions","transactions","_s","chartRef","chartInstanceRef","timePeriod","setTimePeriod","current","destroy","ctx","getContext","today","Date","startDate","getFullYear","getMonth","labels","i","date","push","toLocaleString","month","filteredTransactions","filter","transaction","groupedData","Array","from","length","_","Income","type","reduce","acc","amount","expenses","IncomeData","index","_groupedData$index","expenseData","_groupedData$index2","data","datasets","label","backgroundColor","barThickness","options","y","grid","display","ticks","color","beginAtZero","font","family","size","weight","x","scales","plugins","legend","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["/Users/jordanakasaato/Documents/Projects/finances/src/components/Overview.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Chart, CategoryScale, LinearScale, BarController, BarElement, Tooltip } from 'chart.js';\n\nChart.register(CategoryScale, LinearScale, BarController, BarElement, Tooltip);\n\nfunction Overview({ sampleTransactions, transactions }) {\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  const [timePeriod, setTimePeriod] = useState('yeartodate');\n\nuseEffect(() => {\n  if (chartRef.current) {\n    if (chartInstanceRef.current) {\n      chartInstanceRef.current.destroy();\n    }\n\n    const ctx = chartRef.current.getContext('2d');\n\n    // Calculate the start date for the last 12 months\n    const today = new Date();\n    const startDate = new Date(today.getFullYear() - 1, today.getMonth());\n\n    // Generate the labels for the last 12 months\n    const labels = [];\n    for (let i = 0; i < 12; i++) {\n      const date = new Date(startDate.getFullYear(), startDate.getMonth() + i);\n      labels.push(date.toLocaleString('default', { month: 'short' }));\n    }\n\n    // Filter transactions for the last 12 months\n    const filteredTransactions = transactions.filter(\n      (transaction) => new Date(transaction.date) >= startDate\n    );\n\n    // Group transactions by month and calculate total income and expenses for each month\n    const groupedData = Array.from({ length: 12 }, (_, i) => {\n      const month = (startDate.getMonth() + i) % 12;\n      return {\n        Income: filteredTransactions\n          .filter(transaction => new Date(transaction.date).getMonth() === month && transaction.type === 'Income')\n          .reduce((acc, transaction) => acc + transaction.amount, 0),\n        expenses: filteredTransactions\n          .filter(transaction => new Date(transaction.date).getMonth() === month && transaction.type === 'expense')\n          .reduce((acc, transaction) => acc + transaction.amount, 0)\n      };\n    });\n\n    const IncomeData = Array.from({ length: 12 }, (_, index) => groupedData[index]?.Income || 0);\n    const expenseData = Array.from({ length: 12 }, (_, index) => groupedData[index]?.expenses || 0);\n\n    chartInstanceRef.current = new Chart(ctx, {\n      type: 'bar',\n        data: {\n          labels: labels,\n          datasets: [\n            {\n              label: 'Income',\n              data: IncomeData,\n              backgroundColor: '#4bbad8',\n              barThickness: 20,\n            },\n            {\n              label: 'Expenses',\n              data: expenseData,\n              backgroundColor: '#e6813d',\n              barThickness: 20,\n            },\n          ],\n        },\n        options: {\n          y:{\n            grid: {\n              display: false, \n            },\n            ticks: {\n\n              ticks:{ \n                color: '#00ff00', \n                beginAtZero: true,\n\n              },\n              font: {\n                family: 'Quicksand',\n                size: 16, \n                weight: 'bold', \n\n\n              },\n            },\n          },\n          x:{\n            grid: {\n              display: false, \n            },\n          },\n\n          scales: {\n            y: {\n              beginAtZero: true,\n              grid: {\n                display: false, \n              },\n            },\n          },\n          plugins: {\n            legend: {\n              display: true,\n            },\n          },\n          // Set font properties for the scale label (months)\n          scales: {\n            x: { \n              grid: {\n                display: false, \n              },\n              ticks: {\n                font: {\n                  family: 'Quicksand',\n                  size: 16, \n                  weight: 'bold', \n                },\n              },\n            },\n          },\n        },\n      });\n    }\n}, [timePeriod, transactions]); // Add timePeriod and transactions as dependencies\n\n\nreturn (\n    <div className=\"overview\">\n      <div className=\"split-header header \">\n        <h1>Overview</h1>\n        <div className=\"overview__chart-controls\">\n        </div>\n      </div>\n\n      <div className=\"overview__chart-container\" >\n        <canvas ref={chartRef} />\n      </div>\n    </div>\n  );\n}\n\n\nexport default Overview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}